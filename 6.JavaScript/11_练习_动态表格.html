<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>动态表格</title>
		<style type="text/css">
			table {
				border: 1px, solid;
				margin: auto;
				width: 500px;
			}
			
			td,th{
				text-align: center;
				border: 1px, solid;
			}
			
			div {
				text-align: center;
				margin: 50px;
			}
		</style>
	</head>
	<body>
		<div id="div1">
			<input type="text" name="id" id="id" placeholder="请输入编号" />
			<input type="text" name="name" id="name" placeholder="请输入姓名" />
			<input type="text" name="sex" id="sex" placeholder="请输入性别" />
			<input type="submit" name="" id="btn_add" value="添加" />
		</div>
		
		<table id="stu_table" border="" cellspacing="" cellpadding="">
			<caption>学生信息表</caption>
			<tr>
				<th>编号</th>
				<th>姓名</th>
				<th>性别</th>
				<th>操作</th>
			</tr>
			
			<tr>
				<td>1</td>
				<td>张三</td>
				<td>男</td>
				<td><a href="javascript:void(0)" onclick="delTr(this)">删除</a></td>
			</tr>
			
		</table>
		
		<script type="text/javascript">
			/**
			 * 分析：
			 * 		添加：
			 * 			1. 给添加按钮绑定单击事件
			 * 			2. 获取文本框的内容
			 * 			3. 创建td，设置td的内容为文本框的内容
			 * 			4. 创建tr
			 * 			5. 将td添加进tr中
			 *          6. 获取table，将tr添加进table中
			 * 
			 * 		删除：
			 * 			1. 怎么确定点击的是哪一个超链接
			 * 			2. 怎么删除
			 */
			
			// 1. 给添加按钮绑定单击事件
			document.getElementById("btn_add").onclick = function() {
				
				// 2. 获取文本框的内容
				var id = document.getElementById("id").value;
				var name = document.getElementById("name").value;
				var sex = document.getElementById("sex").value;
				
				/* // 3. 创建td，设置td的内容为文本框的内容
				var td_id = document.createElement("td");
				// 创建文本节点
				var text_id = document.createTextNode(id);
				td_id.appendChild(text_id)
				
				var td_name = document.createElement("td");
				// 创建文本节点
				var text_name = document.createTextNode(name);
				td_name.appendChild(text_name)
				
				var td_sex = document.createElement("td");
				// 创建文本节点
				var text_sex = document.createTextNode(sex);
				td_sex.appendChild(text_sex)
				
				// 创建a标签的td
				var td_a = document.createElement("td");
				var ele_a = document.createElement("a");
				ele_a.setAttribute("href", "javascript:void(0)");
				ele_a.setAttribute("onclick", "delTr(this)");
				var text_a = document.createTextNode("删除");
				ele_a.appendChild(text_a);
				td_a.appendChild(ele_a)
				
				// 4. 创建tr
				var tr = document.createElement("tr");
				
				// 5. 将td添加进tr中
				tr.appendChild(td_id);
				tr.appendChild(td_name);
				tr.appendChild(td_sex);
				tr.appendChild(td_a);
				
				// 6. 获取table，将tr添加进table中
				var table = document.getElementById("stu_table");
				table.appendChild(tr); */	
				
				// 使用innerHTML添加记录
				var table = document.getElementById("stu_table");
				table.innerHTML += "<tr>" + 
				"<td>" + id + "</td>" +
				"<td>" + name + "</td>" +
				"<td>" + sex + "</td>" +
				"<td><a href='javascript:void(0)' onclick='delTr(this)'>删除</a></td>" + 
			"</tr>";
			}
			
			function delTr(obj) {
				var table = obj.parentNode.parentNode.parentNode;
				var tr = obj.parentNode.parentNode;
				table.removeChild(tr);
			}
			
		</script>
			
	</body>
</html>
